---
import { IExperiences } from "@types";

const { title, details } = Astro.props as IExperiences;
---

<section
	class="flex items-start justify-between flex-col lg:flex-row text-gray-800 dark:text-gray-200 my-10"
>
	<h2
		class="w-full lg:w-[15rem] mb-8 lg:mb-0 text-2xl font-semibold text-gray-800 dark:text-gray-100"
	>
		{title}
	</h2>
	<div class="w-full lg:flex-1">
		{
			details.map((item, index) => (
				<div class="mb-8 last:mb-0">
					<div class="space-y-4">
						<div class="flex justify-between items-start flex-col sm:flex-row gap-3">
							<div class="flex-1">
								<h3 class="text-xl font-semibold text-gray-800 dark:text-gray-100 font-outfit leading-tight">
									{item.name}
								</h3>
								<p class="text-blue-500 dark:text-blue-400 font-medium mt-1">
									{item.location}
								</p>
							</div>
							<div class="flex items-center text-sm text-gray-600 dark:text-gray-400 font-medium">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									width="14"
									height="14"
									viewBox="0 0 24 24"
									fill="none"
									stroke="currentColor"
									stroke-width="2"
									stroke-linecap="round"
									stroke-linejoin="round"
									class="mr-2"
									aria-hidden="true"
								>
									<rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
									<line x1="16" y1="2" x2="16" y2="6" />
									<line x1="8" y1="2" x2="8" y2="6" />
									<line x1="3" y1="10" x2="21" y2="10" />
								</svg>
								<span class="whitespace-nowrap">
									{item.startDate} - {item.endDate}
								</span>
							</div>
						</div>

						<ul class="space-y-3 mt-4">
							{item.description.map((desc) => (
								<li class="text-gray-700 dark:text-gray-300 flex items-start leading-relaxed">
									<span class="text-blue mr-3 mt-1 text-xs flex-shrink-0">
										‚óè
									</span>
									<span class="flex-1">{desc.replace(/^-\s*/, "")}</span>
								</li>
							))}
						</ul>

						{/* Skills section for each job */}
						{item.skills && item.skills.length > 0 && (
							<div class="mt-4">
								<h4 class="text-sm font-semibold text-dark dark:text-light mb-2 uppercase tracking-wide opacity-80">
									Key Technologies & Skills
								</h4>
								<div class="flex flex-wrap gap-2">
									{item.skills.map((skill) => (
										<span class="px-2 py-1 bg-blue/10 dark:bg-blue/20 text-blue dark:text-blue-300 text-xs font-medium rounded-full border border-blue/20">
											{skill}
										</span>
									))}
								</div>
							</div>
						)}
					</div>
				</div>
			))
		}
	</div>
</section>
